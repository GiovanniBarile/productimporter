{% extends "@PrestaShop/Admin/layout.html.twig" %}
{% block content %}

<div class=" d-flex justify-content-around">

	<div class="overflow-auto" style="height:70vh">
		<h1>Remote Categories</h1>

		<div id="remote" class="demo">
			<ul>
				{% for parent in remote_categories %}
				<li data-jstree='{"opened":true}' data-category-id="{{parent.id}}">
					{{ parent.name }}
					{% if parent.x_children|length > 0 %}
					<ul>
						{% for child in parent.x_children %}
						<li data-category-id="{{child.id}}">
							{{ child.name }}
							{% if child.x_children is defined %}
							<ul>
								{% for child2 in child.x_children %}
								<li data-category-id="{{child2.id}}">
									{{ child2.name }}
								</li>
								{% endfor %}
							</ul>
							{% endif %}
						</li>
						{% endfor %}
					</ul>
					{% endif %}
				</li>
				{% endfor %}
			</ul>
		</div>


		{# div with selected category name #}
		<div class="mt-5">
			<p>Selected category:</p>
			<div id="selectedRemoteCategory"></div>
		</div>
	</div>
	<div class="centercol w-10">
		<button id="btn" class="btn btn-primary">Collega</button>
	</div>
	<div>
	<div class="d-flex justify-content-around">
		<h1>Local Categories</h1>
		<button type="button" class="btn btn-action btn-sm ml-4" data-toggle="modal" data-target="#addCategoryModal" >+</button>
	</div>
		<div id="local" class="demo">
			<ul>
				{% for parent in categories %}
				<li data-jstree='{"opened":true}' data-category-id="{{ parent.id_category }}">
					{{ parent.name }}

					{% if parent.children|length > 0 %}
					<ul>
						{% for child in parent.children %}
						<li data-category-id="{{ child.id_category }}" data-jstree='{"opened":true}'>
							{{ child.name }}


							{% if child.children is defined %}
							<ul>
								{% for child2 in child.children %}
								<li data-jstree='{"opened":true}' data-category-id="{{ child2.id_category }}">
									{{ child2.name }}
								</li>
								{% endfor %}
							</ul>
							{% endif %}

						</li>
						{% endfor %}
					</ul>
					{% endif %}
				</li>
				{% endfor %}
			</ul>

		</div>
		<div class="mt-5">
			<p>Selected category:
			</p>
			<div id="selectedCategory"></div>
		</div>
	</div>
</div>

{# load JS #}
{% block javascripts %}
    {{ parent() }}
{% endblock %}

{# load CSS #}
{% block stylesheets %}
	{{ parent() }}
{% endblock %}

{# modal for adding new category #}
{% include '@Modules/productimporter/templates/admin/add_category_modal.html.twig' %}

<script>



	
</script>
{% endblock %}